(()=>{"use strict";var e={};function t(e,t,r,n,a,c,u){try{var o=e[c](u),i=o.value}catch(e){return void r(e)}o.done?t(i):Promise.resolve(i).then(n,a)}function r(e){return function(){var r=this,n=arguments;return new Promise((function(a,c){var u=e.apply(r,n);function o(e){t(u,a,c,o,i,"next",e)}function i(e){t(u,a,c,o,i,"throw",e)}o(void 0)}))}}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();const n={cachingAppShell:function(e){var t=this;return r(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.openCache();case 2:r.sent.addAll(e);case 4:case"end":return r.stop()}}),r)})))()},deleteOldCache:function(){return r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.keys();case 2:e.sent.filter((function(e){return"CuacaIn"!==e})).map((function(e){return caches.delete(e)}));case 4:case"end":return e.stop()}}),e)})))()},revalidateCache:function(e){var t=this;return r(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,caches.match(e);case 2:if(!(n=r.sent)){r.next=5;break}return r.abrupt("return",n);case 5:return r.abrupt("return",t.fetchRequest(e));case 6:case"end":return r.stop()}}),r)})))()},openCache:function(){return r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",caches.open("CuacaIn"));case 1:case"end":return e.stop()}}),e)})))()},fetchRequest:function(e){var t=this;return r(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(e);case 2:if((n=r.sent)&&200===n.status){r.next=5;break}return r.abrupt("return",n);case 5:return r.next=7,t.addCache(e);case 7:return r.abrupt("return",n);case 8:case"end":return r.stop()}}),r)})))()},addCache:function(e){var t=this;return r(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.openCache();case 2:r.sent.add(e);case 4:case"end":return r.stop()}}),r)})))()}};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=e.g.serviceWorkerOption.assets;self.addEventListener("install",(function(e){var t;e.waitUntil(n.cachingAppShell([].concat(function(e){if(Array.isArray(e))return a(e)}(t=c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["./"])))})),self.addEventListener("activate",(function(e){e.waitUntil(n.deleteOldCache())})),self.addEventListener("fetch",(function(e){e.respondWith(n.revalidateCache(e.request))}))})();